---
import Layout from "../layouts/Layout.astro";

const team = [
	{
		name: "María Teresa Martín-Aragoneses",
		role: "Associate Professor & Researcher",
		badge: "Principal Investigator",
		slug: "maria-teresa",
		image: "Maria",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
	{
		name: "Irene Cadime",
		role: "Assistant Professor & Researcher",
		slug: "irene-cadime",
		image: "irene-c",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
	{
		name: "Barbara Conboy",
		role: "Associate Professor & Researcher",
		slug: "barbara",
		image: "barbara",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
	{
		name: "David del Río Grande",
		role: "Associate Professor & Researcher",
		slug: "david",
		image: "david",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
	{
		name: "Miguel Ángel Fernández-Blázquez",
		role: "Associate Professor & Researcher",
		slug: "miguel",
		image: "miguel",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
	{
		name: "Carlos Gallego López",
		role: "Associate Professor & Researcher",
		slug: "carlos",
		image: "carlos",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
	{
		name: "Encarnación Hernández Pérez",
		role: "Associate Professor & Researcher",
		slug: "encarnacion",
		image: "encarnacion",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
	{
		name: "Irene Puerta-Araña",
		role: "Predoctoral Researcher",
		slug: "irene-puerta",
		image: "irene",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
	{
		name: "Raquel Rodríguez Fernández",
		role: "Associate Professor & Researcher",
		slug: "raquel",
		image: "raquel",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
	{
		name: "Celia Teira-Serrano",
		role: "Associate Professor & Researcher",
		slug: "celia",
		image: "celia",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
	{
		name: "Vicenç Torrens García",
		role: "Associate Professor & Researcher",
		slug: "vicenc",
		image: "vicenc",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
	{
		name: "Carolina Villahoz Torio",
		role: "Research Support Technician",
		slug: "carolina-villahoz",
		image: "carolina",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
	{
		name: "Ángela Zamora Menéndez",
		role: "Associate Professor & Researcher",
		slug: "angela",
		image: "angela",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
	{
		name: "Carolina (Research Group)",
		role: "Associate Professor & Researcher",
		slug: "carolina-research",
		image: "carolina2",
		orcid: "#",
		email: "mailto:cogneuroedu@edu.uned.es",
		university: "https://www.uned.es/",
	},
];
---

<Layout>
	<nav
		class="fixed mb-0 inset-x-0 top-0 z-50 flex h-20 items-center justify-between border-b border-black/10 bg-background/95 px-6 pl-8 pr-6 text-base backdrop-blur-md md:px-12"
		aria-label="Primary navigation"
	>
		<a class="text-base font-semibold uppercase tracking-[0.25em]" href="#inicio">CogNeUEDU</a>
		<ul class="flex flex-wrap items-center gap-4 text-sm uppercase tracking-[0.2em] md:text-base">
			<li><a class="border-b border-transparent pb-1 hover:border-brand" href="#inicio">Home</a></li>
			<li><a class="border-b border-transparent pb-1 hover:border-brand" href="/team">Team</a></li>
			<li><a class="border-b border-transparent pb-1 hover:border-brand" href="#investigacion">Research</a></li>
			<li><a class="border-b border-transparent pb-1 hover:border-brand" href="#transferencia">Outreach</a></li>
			<li><a class="border-b border-transparent pb-1 hover:border-brand" href="#contacto">Contact</a></li>
			<li>
				<a
					class="rounded-full border border-brand px-5 py-1.5 text-sm tracking-[0.3em] hover:bg-brand hover:text-white"
					href="#participa"
				>
					Join
				</a>
			</li>
		</ul>
	</nav>
	<main class="team-page">
		<header class="team-hero mt-0">	
			<h1>Team</h1>
			<p>
				Each portrait links to the academic identity of our researchers. The icons under every name reference their ORCID,
				email, and institutional profile so you can contact them directly.
			</p>
		</header>

		<section class="team-grid">
			{team.map((member) => (
				<article class="team-card">
					<div class="avatar">
						<img
							src={`/${member.image ?? member.slug}.webp`}
							alt={`Portrait of ${member.name}`}
							loading="lazy"
							class="avatar-img"
							onload="this.parentElement.classList.add('has-image')"
							onerror="this.style.display='none'"
						/>
						<div class="avatar-fallback" aria-hidden="true">
							<span>{member.name.split(" ")[0]?.[0]}</span>
						</div>
					</div>
					<h2>{member.name}</h2>
					<p class="role">{member.role}</p>
					{member.badge && <p class="badge">{member.badge}</p>}
					<div class="icons">
						<a class="icon-link" href={member.orcid} target="_blank" rel="noreferrer" aria-label={`ORCID for ${member.name}`}>
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" role="img" aria-hidden="true">
								<circle cx="12" cy="12" r="11" />
								<text x="12" y="15" text-anchor="middle" font-size="9" font-family="sans-serif" fill="currentColor">
									iD
								</text>
							</svg>
						</a>
						<a class="icon-link" href={member.email} aria-label={`Email ${member.name}`}>
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" role="img" aria-hidden="true">
								<path d="M4 6h16c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1zm0 2v8h16V8l-8 5-8-5zm8 3 8-5H4l8 5z" />
							</svg>
						</a>
						<a class="icon-link" href={member.university} target="_blank" rel="noreferrer" aria-label={`University profile of ${member.name}`}>
							<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" role="img" aria-hidden="true">
								<path d="M12 3 2 8l10 5 10-5-10-5zm0 7L4 6v9h2v-4l6 3 6-3v4h2V6l-8 4zm-6 8h12v2H6v-2z" />
							</svg>
						</a>
					</div>
				</article>
			))}
		</section>
	</main>
</Layout>

<style>
	.team-page {
		padding: calc(var(--nav-height, 72px) + 4rem) var(--page-padding, clamp(1.5rem, 4vw, 3rem)) 4rem;
		display: flex;
		flex-direction: column;
		gap: 3rem;
	}

	.team-hero h1 {
		font-size: clamp(2.5rem, 4vw, 4rem);
		margin: 0.5rem 0;
	}

	.team-hero p {
		max-width: 720px;
		line-height: 1.7;
		color: #333;
	}

	.team-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
		gap: 1.75rem;
	}

	.team-card {
		background: #fff;
		border-radius: 1.5rem;
		padding: 1.5rem;
		box-shadow: 0 20px 50px rgba(0, 0, 0, 0.08);
		display: flex;
		flex-direction: column;
		gap: 0.75rem;
	}

	.avatar {
		position: relative;
		width: 100%;
		height: 220px;
		border-radius: 1.25rem;
		overflow: hidden;
		background: #f2f2f2;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.avatar-img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		display: none;
	}

	.avatar.has-image .avatar-img {
		display: block;
	}

	.avatar .avatar-fallback {
		position: absolute;
		inset: 0;
		display: flex;
		align-items: center;
		justify-content: center;
		font-size: 3rem;
		font-weight: 600;
		color: #fff;
		background: linear-gradient(135deg, #0f0f0f, #3a3a3a);
	}

	.avatar.has-image .avatar-fallback {
		display: none;
	}

	h2 {
		margin: 0;
		font-size: 1.25rem;
	}

	.role {
		margin: 0;
		font-size: 0.95rem;
		color: #555;
	}

	.badge {
		margin: 0;
		font-size: 0.85rem;
		text-transform: uppercase;
		letter-spacing: 0.2em;
		color: #0f0f0f;
	}

	.icons {
		display: flex;
		gap: 0.75rem;
		margin-top: auto;
	}

	.icon-link {
		width: 42px;
		height: 42px;
		border-radius: 999px;
		border: 1px solid rgba(15, 15, 15, 0.2);
		display: flex;
		align-items: center;
		justify-content: center;
		color: #0f0f0f;
	}

	.icon-link svg {
		width: 22px;
		height: 22px;
		fill: currentColor;
	}

	.eyebrow {
		text-transform: uppercase;
		letter-spacing: 0.25em;
		font-size: 0.85rem;
		color: #666;
	}

	@media (max-width: 640px) {
		.team-page {
			padding-inline: 1.5rem;
			padding-top: calc(var(--nav-height, 72px) + 2.5rem);
		}
	}
</style>
